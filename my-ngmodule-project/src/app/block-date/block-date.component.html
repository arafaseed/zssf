<div class="max-w-md mx-auto p-6 bg-white rounded-lg shadow-md">
  <h2 class="text-2xl font-bold mb-4">Block a Date</h2>

  <form [formGroup]="blockDateForm" (ngSubmit)="blockDate()" class="space-y-4">

    <!-- Venue Selection -->
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Select Venue</mat-label>
      <mat-select formControlName="venueId" required>
        <mat-option *ngFor="let venue of venues" [value]="venue.venueId">
          {{ venue.venueName }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Date Selection -->
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Select a date</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="date" required>
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <button type="submit" mat-raised-button color="primary" class="w-full" [disabled]="loading">
      {{ loading ? 'Blocking...' : 'Block Date' }}
    </button>
  </form>

  <!-- Blocked Dates List -->
  <div *ngIf="blockDateForm.value.venueId">
    <h3 class="mt-6 font-semibold text-lg">Blocked Date</h3>

    <div *ngIf="loadingBlockedDates" class="text-gray-500 mt-2">Loading blocked dates...</div>

    <ul *ngIf="!loadingBlockedDates && blockedDates.length > 0" class="mt-2 space-y-2">
      <li *ngFor="let blocked of blockedDates" class="flex justify-between items-center p-2 bg-gray-100 rounded">
        <span>{{ blocked.blockedDate | date:'longDate' }}</span>
        <button (click)="unblockDate(blocked)" mat-icon-button color="warn">
          <mat-icon>delete</mat-icon>
        </button>
      </li>
    </ul>

    <div *ngIf="!loadingBlockedDates && blockedDates.length === 0" class="text-gray-500 mt-2">
      No blocked dates for this venue.
    </div>
  </div>
</div>
