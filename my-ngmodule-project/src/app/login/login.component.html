<!-- Full page wrapper -->
<div class="flex flex-col min-h-screen bg-gray-50 text-gray-900">

  <!-- Header -->
  <app-header></app-header>

  <!-- Content -->
  <main class="flex-grow flex items-center justify-center px-4 py-10">
    <div class="w-full max-w-md bg-white shadow-xl rounded-lg p-8">
      <h2 class="text-2xl font-bold text-center text-black mb-6">Login</h2>
      <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-5">

        <!-- Staff ID -->
        <div>
          <label for="staffIDN" class="block text-sm font-medium mb-1">Staff ID</label>
          <input
            type="text"
            id="staffIDN"
            formControlName="staffIDN"
            class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2A7261] focus:outline-none"
            required>
          <div *ngIf="form.get('staffIDN')?.invalid && form.get('staffIDN')?.touched" class="text-sm text-red-600 mt-1">
            Staff ID is required
          </div>
        </div>

        <!-- Password -->
        <div>
          <label for="password" class="block text-sm font-medium mb-1">Password</label>
          <div class="relative">
            <input
              [type]="hidePassword ? 'password' : 'text'"
              id="password"
              formControlName="password"
              class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2A7261] focus:outline-none"
              required>
            <button
              type="button"
              (click)="togglePasswordVisibility()"
             class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-black focus:outline-none"
              aria-label="Toggle password visibility">
              <svg *ngIf="hidePassword" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                   viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.065 7-9.542 7S3.732 16.057 2.458 12z"/>
              </svg>
              <svg *ngIf="!hidePassword" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                   viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.27-2.944-9.543-7a10.052 10.052 0 012.166-3.338M14.12 9.879a3 3 0 10-4.242 4.243M9.88 14.121L3 21m0 0l6.879-6.879M21 3l-6.879 6.879"/>
              </svg>
            </button>
          </div>
          <div *ngIf="form.get('password')?.invalid && form.get('password')?.touched" class="text-sm text-red-600 mt-1">
            Password is required
          </div>
        </div>

        <!-- Error Message -->
        <div *ngIf="errorMsg" class="text-center text-red-600 text-sm">
          {{ errorMsg }}
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          [disabled]="loading || form.invalid"
          class="w-full py-2 bg-green-600 text-white font-semibold rounded-md shadow hover:bg-green-700 transition">
          {{ loading ? 'Logging in...' : 'Login' }}
        </button>
      </form>
    </div>
  </main>

  <!-- Footer -->
  <app-footer></app-footer>

</div>
